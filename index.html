<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My first website ⸜(｡˃ ᵕ ˂ )⸝♡</title>
    <link rel="icon" href="favicon.png" type = "image/x-icon"/>
    <style>
        nav a:not(:last-child)::after {
    content: '|';
    background-color: #ccc; 
    margin: 0 2vw; 
}
        .topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: left;
  padding: 0.911vw 0;
  margin-left: 1.7vw;
  text-decoration: none;
  font-size: 0.911vw;
}
        iframe {
            border: none;
            display: block;
            margin: auto;
            margin-top: 3.125vw;
        }
        body {
            background-image: url("bg-tv.png");
            background-repeat: no-repeat;
            background-attachment: fixed; 
            background-size: 100% 100%;
        }
        h1 {
            font-family:Arial, Helvetica, sans-serif;
            color: gray; 
            font-size: 1.979vw;
        }
        p {
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            text-align: center;
            font-size: 1.146vw;
            font-weight: bold;  
        }
        #videoPlayer {
            max-width: 100%;
            margin: 0 auto;
            margin-top: 4vw;
            display: block;
        }
    </style>
</head>
<body>
    <h1 align="center">
        Re:ZERO All OPs and EDs
    </h1>
    <p>
        Here's my website that changes video based on the text you click! <br>
        (5 second delay between videos)
    </p>
    <div class="topnav">
    <nav>
        <a href="#" onclick="playVideo('OP1 - Redo.mp4')">OP1 - Redo</a>
        <a href="#" onclick="playVideo('OP2 - Paradisus - Paradoxum.mp4')">OP2 - Paradisus - Paradoxum</a>
        <a href="#" onclick="playVideo('OP3 - Realize.mp4')">OP3 - Realize</a>
        <a href="#" onclick="playVideo('OP4 - Long shot.mp4')">OP4 - Long shot</a>
        <a href="#" onclick="playVideo('ED1 - STYX HELIX.mp4')">ED1 - STYX HELIX</a>
        <a href="#" onclick="playVideo('ED2 - Stay Alive.mp4')">ED2 - Stay Alive</a>
        <a href="#" onclick="playVideo('ED3 - Memento.mp4')">ED3 - Memento</a>
        <a href="#" onclick="playVideo('ED4 - Believe in you.mp4')">ED4 - Believe in you</a>
    </nav>
</div>
<video id="videoPlayer" width="640" height="360" poster="Beatrice_Anime (2).webp" onended="playNextVideo()">
    <source src="OP1 - Redo.mp4" type="video/mp4">
</video>

<script>
    function playVideo(videoName) {
    // Update the video player screen with the selected video
    // For example, you can set the video source and play the video
    document.getElementById('videoPlayer').src = videoName;
    document.getElementById('videoPlayer').play();
    // Update the currentIndex based on the selected video
    currentIndex = videoUrls.indexOf(videoName);
    // Preload the next video
    const nextIndex = (currentIndex + 1) % videoUrls.length;
    const nextVideoUrl = videoUrls[nextIndex];
    const preloadLink = document.createElement('link');
    preloadLink.rel = 'preload';
    preloadLink.as = 'video';
    preloadLink.type = 'video/mp4';
    preloadLink.href = nextVideoUrl;
    document.head.appendChild(preloadLink);
}
    const videoUrls = [
        "OP1 - Redo.mp4",
        "OP2 - Paradisus - Paradoxum.mp4",
        "OP3 - Realize.mp4",
        "OP4 - Long shot.mp4",
        "ED1 - STYX HELIX.mp4",
        "ED2 - Stay Alive.mp4",
        "ED3 - Memento.mp4",
        "ED4 - Believe in you.mp4" //Automatically reset to first video
    ];

    let currentIndex = 0;
const videoPlayer = document.getElementById('videoPlayer');
let isSwitching = false;

function playNextVideo() {
    if (!isSwitching) {
        isSwitching = true;
        // Delay before switching to the next video
        setTimeout(function() {
            currentIndex = (currentIndex + 1) % videoUrls.length;
            videoPlayer.src = videoUrls[currentIndex];
            videoPlayer.poster = ""; // Clear the poster attribute
            videoPlayer.play();
            isSwitching = false;
        }, 5000); // 5000 milliseconds delay (5 seconds)
    }
    }
</script>
</body>
</html>
